/* ========================================
   ながティム — Portfolio
   ======================================== */

/* ===== Variables ===== */
:root{
  --bg: #fafafa;
  --text: #0a0a0a;
  --muted: #737373;
  --border: #e5e5e5;
  --card-glass: rgba(255,255,255,0.5);
  --accent: #0a0a0a;
  --shadow: 0 1px 3px rgba(0,0,0,0.04), 0 6px 24px rgba(0,0,0,0.06);
  --shadow-lg: 0 8px 40px rgba(0,0,0,0.1);
  --header-bg: rgba(250,250,250,0.75);
  --dot-color: rgba(10,10,10,0.03);
  --video-bg: #f5f5f5;
  --gradient-border: linear-gradient(135deg, rgba(115,115,115,0.2), rgba(229,229,229,0.5), rgba(115,115,115,0.2));
  --noise-opacity: 0.02;
  --marquee-color: var(--border);

  --ease: cubic-bezier(0.22, 1, 0.36, 1);
  --transition-fast: 0.2s var(--ease);
  --transition-normal: 0.4s var(--ease);
  --transition-slow: 0.7s var(--ease);

  --radius: 16px;
  --header-h: 60px;
}

/* ===== Dark ===== */
[data-theme="dark"]{
  --bg: #0a0a0a;
  --text: #fafafa;
  --muted: #a3a3a3;
  --border: #262626;
  --card-glass: rgba(23,23,23,0.6);
  --accent: #fafafa;
  --shadow: 0 1px 3px rgba(0,0,0,0.3), 0 6px 24px rgba(0,0,0,0.4);
  --shadow-lg: 0 8px 40px rgba(0,0,0,0.5);
  --header-bg: rgba(10,10,10,0.75);
  --dot-color: rgba(250,250,250,0.02);
  --video-bg: #171717;
  --gradient-border: linear-gradient(135deg, rgba(115,115,115,0.3), rgba(64,64,64,0.5), rgba(115,115,115,0.3));
  --noise-opacity: 0.015;
  --marquee-color: #262626;
}
[data-theme="dark"] .btn.primary{
  color: #0a0a0a;
}
[data-theme="dark"] .btn.primary:hover{
  background: #d4d4d4;
  border-color: #d4d4d4;
}
[data-theme="dark"] .menu-overlay{
  background: rgba(0,0,0,0.7);
}

/* ===== Reset ===== */
*,*::before,*::after{ box-sizing:border-box; margin:0; padding:0; }
html{ scroll-behavior:smooth; }
body{
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans JP", sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  cursor: none;
  overflow-x: hidden;
  transition: background 0.5s ease, color 0.5s ease;
}

/* ===== Noise ===== */
body::before{
  content:"";
  position:fixed; inset:0;
  z-index:9999; pointer-events:none;
  opacity: var(--noise-opacity);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

/* ===== Custom Cursor ===== */
.cursor{
  position:fixed; top:0; left:0;
  width:8px; height:8px;
  background: var(--text);
  border-radius:50%;
  pointer-events:none;
  z-index:10000;
  transform: translate(-50%,-50%);
  transition: width 0.3s var(--ease), height 0.3s var(--ease), background 0.3s var(--ease);
  mix-blend-mode: difference;
}
.cursor.hover{
  width:48px; height:48px;
  background: #fff;
}
.cursor-follower{
  position:fixed; top:0; left:0;
  width:36px; height:36px;
  border:1px solid var(--muted);
  border-radius:50%;
  pointer-events:none;
  z-index:9999;
  transform: translate(-50%,-50%);
  transition: width 0.4s var(--ease), height 0.4s var(--ease), opacity 0.4s var(--ease), border-color 0.3s var(--ease);
  opacity: 0.4;
}
.cursor-follower.hover{
  width:64px; height:64px;
  opacity: 0.2;
}
@media (hover:none){
  .cursor, .cursor-follower{ display:none; }
  body{ cursor: auto; }
}

/* ===== Transitions ===== */
a, .btn, .link-card, .textlink{
  transition: color var(--transition-fast),
              background var(--transition-fast),
              border-color var(--transition-fast),
              box-shadow var(--transition-normal),
              transform var(--transition-fast);
}

/* ===== Layout ===== */
.container{
  max-width: 760px;
  margin: 0 auto;
  padding: 0 clamp(20px, 5vw, 40px);
}

/* ===== Header ===== */
.header{
  position:fixed; top:0; left:0; right:0;
  background: var(--header-bg);
  backdrop-filter: blur(20px) saturate(1.3);
  -webkit-backdrop-filter: blur(20px) saturate(1.3);
  border-bottom: 1px solid var(--border);
  z-index:100;
  transition: background 0.5s ease, border-color 0.5s ease;
}
.header-inner{
  display:flex; align-items:center; justify-content:space-between;
  height: var(--header-h);
}
.brand{
  font-weight:900; font-size:18px;
  text-decoration:none; color:var(--text);
  letter-spacing:-0.5px;
}

/* ===== Scroll Progress ===== */
.scroll-progress{
  position:absolute; bottom:-1px; left:0;
  height:2px; width:0%;
  background: var(--text);
  z-index:11;
}

/* ===== Nav ===== */
.nav{ display:flex; align-items:center; gap:2px; }
.nav a{
  text-decoration:none; color:var(--muted);
  font-size:12px; font-weight:500;
  letter-spacing:0.5px; text-transform:uppercase;
  padding:6px 14px; border-radius:999px;
  transition: color var(--transition-fast), background var(--transition-fast);
}
.nav a:hover{ color:var(--text); background:var(--border); }
.nav a.active{ color:var(--text); background:var(--border); font-weight:600; }

/* ===== Header Right ===== */
.header-right{ display:flex; align-items:center; gap:2px; }
.theme-toggle{
  width:36px; height:36px; border:none; background:none;
  cursor:none; color:var(--muted);
  display:flex; align-items:center; justify-content:center;
  border-radius:50%;
  transition: color var(--transition-fast), background var(--transition-fast);
}
.theme-toggle:hover{ color:var(--text); background:var(--border); }
.theme-toggle svg{ width:15px; height:15px; }
.icon-moon{ display:none; }
[data-theme="dark"] .icon-sun{ display:none; }
[data-theme="dark"] .icon-moon{ display:block; }

/* ===== Hero ===== */
.hero{
  min-height: 100vh; min-height:100dvh;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  text-align:center;
  position:relative; overflow:hidden;
  padding: var(--header-h) 20px 0;
}

/* hero entrance */
@keyframes fadeUp{
  from{ opacity:0; transform:translateY(30px); }
  to{ opacity:1; transform:translateY(0); }
}
.hero-content{ animation: fadeUp 1s var(--ease) 0.2s both; }

.hero-bg{
  position:absolute; inset:-100px;
  background-image: radial-gradient(var(--dot-color) 1px, transparent 1px);
  background-size:22px 22px;
  pointer-events:none; z-index:0;
  will-change:transform;
}
.hero-content{ position:relative; z-index:1; }

.hero-label{
  font-size:11px; font-weight:500;
  letter-spacing:3px; text-transform:uppercase;
  color:var(--muted);
  margin-bottom: clamp(16px, 3vw, 28px);
}
.hero-title{
  font-size: clamp(48px, 12vw, 120px);
  font-weight:900;
  line-height:1;
  letter-spacing:-3px;
  margin-bottom: clamp(12px, 2vw, 24px);
  background: linear-gradient(135deg, var(--text) 30%, var(--muted) 100%);
  -webkit-background-clip:text; background-clip:text;
  -webkit-text-fill-color:transparent;
}
.hero-lead{
  font-size: clamp(14px, 2vw, 18px);
  color:var(--muted);
  min-height:1.6em;
}
.hero-lead .typing-cursor{
  display:inline-block; width:2px; height:1em;
  background:var(--muted);
  margin-left:2px; vertical-align:text-bottom;
  animation: blink 0.75s step-end infinite;
}
.hero-lead .typing-cursor.done{
  animation: blink 0.75s step-end 3;
  animation-fill-mode:forwards; opacity:0;
}
@keyframes blink{ 0%,100%{opacity:1} 50%{opacity:0} }

.hero-actions{
  display:flex; gap:14px; justify-content:center;
  margin-top: clamp(24px, 4vw, 40px);
  flex-wrap:wrap;
}

/* scroll hint */
.scroll-hint{
  position:absolute; bottom: clamp(24px, 4vw, 40px);
  left:50%; transform:translateX(-50%);
  display:flex; flex-direction:column; align-items:center; gap:8px;
  color:var(--muted); z-index:1;
  animation: fadeUp 1s var(--ease) 1.5s both;
}
.scroll-hint span{
  font-size:10px; letter-spacing:2px; text-transform:uppercase; font-weight:500;
}
.scroll-hint-line{
  width:1px; height:40px; background:var(--border);
  position:relative; overflow:hidden;
}
.scroll-hint-line::after{
  content:""; position:absolute; top:-100%; left:0;
  width:100%; height:100%; background:var(--text);
  animation: scrollLine 2s ease-in-out infinite;
}
@keyframes scrollLine{
  0%{ top:-100%; } 50%{ top:100%; } 100%{ top:100%; }
}

/* ===== Marquee ===== */
.marquee{
  border-top:1px solid var(--marquee-color);
  border-bottom:1px solid var(--marquee-color);
  padding:clamp(14px, 2vw, 20px) 0;
  overflow:hidden; white-space:nowrap;
}
.marquee-inner{
  display:inline-flex; gap: clamp(32px, 5vw, 60px);
  animation: marqueeScroll 20s linear infinite;
}
.marquee-inner span{
  font-size: clamp(14px, 2vw, 18px);
  font-weight:500; color:var(--muted);
  letter-spacing:1px;
}
@keyframes marqueeScroll{
  0%{ transform:translateX(0); }
  100%{ transform:translateX(-50%); }
}

/* ===== Sections ===== */
.section{
  padding: clamp(60px, 10vw, 100px) 0;
  border-bottom:1px solid var(--border);
}
.section:last-child{ border-bottom:none; }

.section-header{
  display:flex; align-items:center; gap:16px;
  margin-bottom: clamp(24px, 4vw, 40px);
}
.section-num{
  font-size: clamp(40px, 6vw, 64px);
  font-weight:900; line-height:1;
  color:var(--border);
  letter-spacing:-2px;
  transition: color 0.5s ease;
}
.section-label{
  font-size:11px; font-weight:500;
  letter-spacing:3px; text-transform:uppercase;
  color:var(--muted);
}
.section-title{
  font-size: clamp(24px, 4vw, 36px);
  font-weight:800; letter-spacing:-1px;
  line-height:1.2;
  margin-bottom: clamp(12px, 2vw, 20px);
}
.section-text{
  font-size: clamp(15px, 2vw, 17px);
  color:var(--muted); line-height:1.8;
}
.section-sub{
  font-size:14px; margin-bottom:16px;
}

/* ===== Reveal text ===== */
.reveal-text .word{
  display:inline-block; overflow:hidden; vertical-align:top;
}
.reveal-text .word-inner{
  display:inline-block;
  transform:translateY(100%);
  transition: transform 0.6s var(--ease);
}
.reveal-text.revealed .word-inner{
  transform:translateY(0);
}

/* ===== Buttons ===== */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:12px 24px; border-radius:999px;
  border:1px solid var(--border);
  text-decoration:none; color:var(--text);
  font-weight:600; font-size:14px;
  cursor:none; position:relative; overflow:hidden;
}
.btn:hover{
  transform:translateY(-2px);
  box-shadow: var(--shadow);
}
.btn:active{
  transform:translateY(0); box-shadow:none;
  transition-duration:0.05s;
}
.btn.primary{
  background:var(--accent); color:white;
  border-color:var(--accent);
}
.btn.primary:hover{
  background:#262626; border-color:#262626;
  box-shadow: 0 4px 20px rgba(10,10,10,0.2);
}
.btn.primary::after{
  content:""; position:absolute;
  top:-50%; left:-75%; width:50%; height:200%;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,0.12), transparent);
  transform:skewX(-20deg); pointer-events:none;
  transition: left 0.6s var(--ease);
}
.btn.primary:hover::after{ left:130%; }

/* ===== Video ===== */
.video-wrap{
  width:100%; aspect-ratio:16/9;
  background:var(--video-bg);
  border-radius:var(--radius); overflow:hidden;
  border:1px solid var(--border);
}
.video-wrap iframe{ width:100%; height:100%; display:block; }

.small-actions{ margin-top:16px; }
.textlink{
  display:inline-flex; align-items:center; gap:6px;
  color:var(--muted); text-decoration:none;
  font-size:13px; font-weight:500;
  cursor:none;
  transition: color var(--transition-fast), gap var(--transition-fast);
}
.textlink:hover{ color:var(--text); gap:10px; }

/* ===== Link Cards ===== */
.links{ display:flex; flex-direction:column; gap:12px; }
.link-card{
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding: clamp(16px, 3vw, 24px);
  text-decoration:none; color:var(--text);
  cursor:none;
  transition: border-color var(--transition-fast),
              box-shadow var(--transition-normal),
              transform var(--transition-normal);
}
.link-card:hover{
  border-color:transparent;
  transform:translateY(-3px) scale(1.01);
  box-shadow: var(--shadow-lg);
}
.link-card-inner{
  display:flex; align-items:center; gap: clamp(14px, 2vw, 20px);
}
.link-icon{
  width:36px; height:36px; flex-shrink:0;
  color:var(--muted);
  transition: color var(--transition-fast);
}
.link-card:hover .link-icon{ color:var(--text); }
.link-text{ flex:1; }
.link-name{ font-weight:700; font-size:16px; letter-spacing:-0.3px; }
.link-handle{ font-size:13px; margin-top:2px; }
.link-arrow{
  color:var(--border); flex-shrink:0;
  transition: color var(--transition-fast), transform var(--transition-fast);
}
.link-card:hover .link-arrow{
  color:var(--text);
  transform:translate(3px, -3px);
}

/* ===== Utilities ===== */
.muted{ color:var(--muted); }
.note{ margin-top:16px; font-size:13px; }
.sp-only{ display:none; }

/* ===== Footer ===== */
.footer{
  border-top:1px solid var(--border);
  transition: border-color 0.5s ease;
}
.footer-inner{
  height: clamp(60px, 8vw, 80px);
  display:flex; align-items:center; justify-content:space-between;
  font-size:11px; letter-spacing:0.5px;
}

/* ===== Scroll Animations ===== */
.fade-up{
  opacity:0; transform:translateY(40px);
  transition: opacity var(--transition-slow), transform var(--transition-slow);
  transition-delay: var(--stagger, 0s);
}
.fade-up.visible{
  opacity:1; transform:translateY(0);
}

/* ===== Hamburger ===== */
.hamburger{
  display:none; flex-direction:column; justify-content:center;
  align-items:center; gap:5px;
  width:36px; height:36px; padding:0;
  border:none; background:none; cursor:none;
  z-index:130; border-radius:50%;
  transition: background var(--transition-fast);
}
.hamburger:hover{ background:var(--border); }
.hamburger span{
  display:block; width:18px; height:1.5px;
  background:var(--text); border-radius:2px;
  transition: transform var(--transition-normal), opacity var(--transition-fast);
}
.hamburger.open span:nth-child(1){ transform:translateY(6.5px) rotate(45deg); }
.hamburger.open span:nth-child(2){ opacity:0; }
.hamburger.open span:nth-child(3){ transform:translateY(-6.5px) rotate(-45deg); }

/* ===== Menu Overlay ===== */
.menu-overlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,0.5); z-index:110;
  opacity:0; pointer-events:none;
  transition: opacity var(--transition-normal);
}
.menu-overlay.show{ opacity:1; pointer-events:auto; }

/* ===== Back to Top ===== */
.back-to-top{
  position:fixed; bottom:clamp(16px,3vw,28px); right:clamp(16px,3vw,28px);
  width:42px; height:42px; border-radius:50%;
  border:1px solid var(--border);
  background:var(--card-glass);
  backdrop-filter:blur(12px); -webkit-backdrop-filter:blur(12px);
  box-shadow:var(--shadow); cursor:none;
  display:flex; align-items:center; justify-content:center;
  color:var(--text); opacity:0; pointer-events:none;
  transition: opacity var(--transition-normal), transform var(--transition-normal), box-shadow var(--transition-normal);
  z-index:5;
}
.back-to-top svg{ width:18px; height:18px; }
.back-to-top.show{ opacity:1; pointer-events:auto; }
.back-to-top:hover{ transform:translateY(-3px); box-shadow:var(--shadow-lg); }

/* ===== Mobile ===== */
@media (max-width:640px){
  .hamburger{ display:flex; }
  .nav{
    position:fixed; top:0; right:0;
    width:min(300px,85vw);
    height:100vh; height:100dvh;
    background:var(--bg);
    border-left:1px solid var(--border);
    z-index:120; display:flex; flex-direction:column;
    padding:calc(var(--header-h) + 40px) 28px 28px;
    transform:translateX(100%);
    transition: transform var(--transition-normal);
  }
  .nav.open{ transform:translateX(0); }
  .nav a{
    font-size:14px; padding:16px 0;
    border-radius:0; border-bottom:1px solid var(--border);
    color:var(--text); text-transform:none; letter-spacing:0;
  }
  .nav a:hover, .nav a.active{ background:none; }
  .hero-title{ letter-spacing:-1.5px; }
  .sp-only{ display:inline; }
  .section-num{ font-size:32px; }
  .links{ gap:10px; }
}
